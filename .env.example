# ===================================
# ENCLAVA MINIMAL CONFIGURATION
# ===================================
# Only essential environment variables that CANNOT have defaults
# Other settings should be configurable through the app UI

# ===================================
# INFRASTRUCTURE (Required)
# ===================================
DATABASE_URL=postgresql://enclava_user:enclava_pass@enclava-postgres:5432/enclava_db
REDIS_URL=redis://enclava-redis:6379

# ===================================
# SECURITY CRITICAL (Required)
# ===================================
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
PRIVATEMODE_API_KEY=your-privatemode-api-key-here

# Admin user (created on first startup only)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=admin123

# ===================================
# APPLICATION BASE URL (Required - derives all URLs and CORS)
# ===================================
BASE_URL=localhost
# Frontend derives: APP_URL=http://localhost, API_URL=http://localhost, WS_URL=ws://localhost  
# Backend derives: CORS_ORIGINS=["http://localhost"]

# ===================================
# DOCKER NETWORKING (Required for containers)
# ===================================
BACKEND_INTERNAL_PORT=8000
FRONTEND_INTERNAL_PORT=3000
# Hosts are fixed: enclava-backend, enclava-frontend
# Upstreams derive: enclava-backend:8000, enclava-frontend:3000

# ===================================
# QDRANT (Required for RAG)
# ===================================
QDRANT_HOST=enclava-qdrant
QDRANT_PORT=6333
QDRANT_URL=http://enclava-qdrant:6333

# ===================================
# OPTIONAL PRIVATEMODE SETTINGS (Have defaults)
# ===================================
# PRIVATEMODE_CACHE_MODE=none  # Optional: defaults to 'none'
# PRIVATEMODE_CACHE_SALT=      # Optional: defaults to empty

# ===================================
# MOVED TO APP SETTINGS (Optional - have defaults)
# ===================================
# The following were moved to have sane defaults and/or be user-configurable:
# - APP_NAME (default: "Enclava")
# - APP_DEBUG (default: false) 
# - APP_LOG_LEVEL (default: INFO)
# - API timeout/retry settings (have defaults)
# - Rate limiting settings (default enabled)
# - Module default URLs (user configurable)
# - API_KEY_PREFIX (default: "ce_")
# - Monitoring settings (default enabled)

# ===================================
# TOTAL: 8 essential variables vs 25+ in original  
# (Consolidated 3 URL settings into 1 base URL)
# (Consolidated 6 Docker networking settings into 2 ports)
# (CORS_ORIGINS now derived from base URL)
# (Added PRIVATEMODE_API_KEY as required)
# (68% reduction in required configuration!)
# ===================================